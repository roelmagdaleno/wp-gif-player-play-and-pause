!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.serverSideRender}()},function(e,t,n){"use strict";n.r(t);var i=n(3),a=n(0),l=n(1),r=n(2),o=n(4),c=n.n(o),u=Object(l.withNotices)((function(e){var t=e.attributes,n=e.setAttributes,i=e.noticeOperations,o=e.noticeUI,u=e.clientId,s=e.isSelected,d=t.mediaID,g=t.mediaURL,p=t.gifMethod,m=t.width,f=t.height,b=t.imageWidth,h=t.imageHeight,y=t.align,v=t.useFallback;var w=function(e){var t={mediaID:e.id,mediaURL:e.url,width:e.width,height:e.height,imageWidth:e.width,imageHeight:e.height,gifMethod:p,useFallback:!1};e.wp_gp_pp_video_needs_fallback&&(t.useFallback=e.wp_gp_pp_video_needs_fallback),n(t)},O=["image/gif"];return s&&!v&&n({useFallback:function(){if(v)return!0;var e=document.getElementById("block-".concat(u));return!!e&&(!!e.querySelector(".wp-gp-pp-gif")&&"video"===p)}()}),Object(a.createElement)(a.Fragment,null,Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.InspectorControls,null,Object(a.createElement)(l.PanelBody,null,v&&Object(a.createElement)(l.PanelRow,null,Object(a.createElement)(l.Notice,{status:"warning",isDismissible:!1,className:"wp-gp-pp__fallback-notice"},Object(a.createElement)("p",null,"This GIF Player was rendered as default GIF Player (GIF) because ",Object(a.createElement)("strong",null,"there are no valid video sources found"),"."))),Object(a.createElement)(l.PanelRow,null,Object(a.createElement)(l.SelectControl,{label:"GIF Method",value:p,options:[{label:"GIF",value:"gif"},{label:"Canvas",value:"canvas"},{label:"Video",value:"video",disabled:!WP_GIF_PLAYER.ffmpegInstalled}],onChange:function(e){var t={gifMethod:e};v&&"video"!==e&&(t.useFallback=!1),n(t)}})),Object(a.createElement)(l.PanelRow,null,Object(a.createElement)(r.__experimentalImageSizeControl,{width:m,height:f,imageWidth:b,imageHeight:h,onChange:function(e){n(e)}})))),Object(a.createElement)(r.BlockControls,null,Object(a.createElement)(r.BlockAlignmentToolbar,{value:y,controls:["left","center","right"],onChange:function(e){return n({align:e})}}),d&&Object(a.createElement)(r.MediaReplaceFlow,{mediaID:d,mediaURL:g,allowedTypes:O,accept:"image/gif",onSelect:w})),d?Object(a.createElement)(c.a,{block:"roelmagdaleno/gif-player",attributes:{mediaID:d,mediaURL:g,gifMethod:p,width:m,height:f,imageWidth:b,imageHeight:h,align:y},className:"align".concat(y)}):Object(a.createElement)(r.MediaPlaceholder,{accept:"image/gif",allowedTypes:O,icon:"format-video",value:d,notices:o,labels:{title:"Insert GIF Player",instructions:"The GIF you insert will render the GIF player method selected in the plugin settings page but you can change it using the block controls."},onSelect:w,onError:function(e){i.removeAllNotices(),i.createErrorNotice(e)}})))}));Object(i.registerBlockType)("roelmagdaleno/gif-player",{title:"GIF Player",description:"Attach GIF players into your posts and pages.",category:"common",icon:"format-video",keywords:["gif","player"],attributes:{mediaID:{type:"number"},mediaURL:{type:"string"},gifMethod:{type:"string",default:WP_GIF_PLAYER.gifMethod},width:{type:"number"},height:{type:"number"},imageWidth:{type:"number"},imageHeight:{type:"number"},align:{type:"string",default:"center"},useFallback:{type:"boolean",default:!1}},transforms:{from:[{type:"shortcode",tag:"gif-player",attributes:{mediaID:{type:"number",shortcode:function(e){return parseInt(e.named.id)}}}}]},edit:u,save:function(){return null}})}]);