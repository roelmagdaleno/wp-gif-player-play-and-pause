const pauseObserver=new IntersectionObserver(WP_GP_PP_maybePauseGIF,{rootMargin:"100px 0px 100px 0px",threshold:.7});function WP_GP_PP_maybePauseGIF(e,t){for(let t=0;t<e.length;t++){const n=e[t];if(!n.isIntersecting)continue;const i=n.target;if(!i.dataset.playing)continue;const s=i.querySelector(".wp-gp-pp-overlay");s&&s.click()}}function WP_GP_PP_initGIFCanvas(){const e=document.querySelectorAll(".wp-gp-pp-gif-canvas-player");for(let t=0;t<e.length;t++){const n=e[t],i=n.nextElementSibling,s=new SuperGif({gif:n});s.load(()=>WP_GP_PP_toggleCanvasGIF(i,s))}}function WP_GP_PP_toggleCanvasGIF(e,t){t.get_auto_play()||t.pause();const n=e.parentElement;pauseObserver.observe(n),e.onclick=()=>{const i=e.children[0],s=t.get_playing();s?delete n.dataset.playing:n.dataset.playing="true",s?i.classList.remove("is-playing"):i.classList.add("is-playing"),s?t.pause():t.play()}}function WP_GP_PP_toggleVideosGIF(){const e=document.querySelectorAll(".wp-gp-pp-video-player");for(let t=0;t<e.length;t++){const n=e[t],i=n.nextElementSibling,s=n.parentElement;i.onclick=()=>{const e=i.children[0].classList,t=e.contains("is-playing");t?delete s.dataset.playing:s.dataset.playing="true",t?e.remove("is-playing"):e.add("is-playing"),t?n.pause():n.play()},pauseObserver.observe(s)}}function WP_GP_PP_toggleGIF(){const e=document.querySelectorAll(".wp-gp-pp-gif-thumbnail");for(let t=0;t<e.length;t++){const n=e[t],i=n.nextElementSibling,s=n.parentElement,a=i.nextElementSibling;pauseObserver.observe(s),a.onclick=()=>{const e=a.children[0].classList,t=e.contains("is-playing");if(t?e.remove("is-playing"):e.add("is-playing"),""===i.getAttribute("src")){let e=n.getAttribute("src").replace("_gif_thumbnail.jpeg",".gif");i.setAttribute("src",e)}t?delete s.dataset.playing:s.dataset.playing="true",t?s.classList.remove("is-playing"):s.classList.add("is-playing")}}}function WP_GP_PP_INIT(){const e=WP_GIF_PLAYER.gifPlayersInPost;e.includes("gif")&&WP_GP_PP_toggleGIF(),e.includes("canvas")&&WP_GP_PP_initGIFCanvas(),e.includes("video")&&WP_GP_PP_toggleVideosGIF()}document.addEventListener("DOMContentLoaded",WP_GP_PP_INIT);